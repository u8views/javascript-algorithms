# Z алгоритм

_Прочитайте це іншими мовами:_
[_English_](README.md).

Z-алгоритм знаходить входження "слова" `W` в основний 
"текстовий рядок" `T` за лінійний час `O(|W| + |T|)`.

Для рядка `S` довжини `n` алгоритм створює масив `Z`, де `Z[i]` 
відповідає найбільшому підрядку, який починається з `S[i]` і є 
префіксом `S`. Шукаючи `Z` для рядка, отриманого шляхом конкатенації 
слова `W` з неупорядкованим символом, скажімо, `$`, за яким слідує 
текст `T`, допомагає зі знаходженням відповідностей, оскільки, 
якщо існує деякий індекс `i`, такий що `Z[i]` дорівнює довжині 
шаблону, то шаблон повинен бути присутнім в цій точці.

Хоча масив `Z` можна обчислити за допомогою двох вкладених циклів 
за час `O(|W| * |T|)`, наступна стратегія показує, як отримати його 
за лінійний час, базуючись на ідеї того, що, обходячи літери у 
рядку (індекс `i` від `1` до `n - 1`), ми підтримуємо інтервал 
`[L, R]`, який є інтервалом з максимальним `R`, таким що `1 ≤ L ≤ i ≤ R` 
та `S[L...R]` є префіксом, що є також підрядком (якщо такого інтервалу 
не існує, просто дозволяємо `L = R = -1`). Для `i = 1`, ми можемо 
просто обчислити `L` та `R`, порівнюючи `S[0...]` з `S[1...]`.

**Приклад Z алгоритма**

```
Index            0   1   2   3   4   5   6   7   8   9  10  11 
Text             a   a   b   c   a   a   b   x   a   a   a   z
Z values         X   1   0   0   3   1   0   0   2   2   1   0 
```

Інші приклади

```
str =  a a a a a a
Z[] =  x 5 4 3 2 1
```

```
str =  a a b a a c d
Z[] =  x 1 0 2 1 0 0
```

```
str =  a b a b a b a b
Z[] =  x 0 6 0 4 0 2 0
```

**Приклад Z-блоку**

![Z-блок](https://ivanyu.me/wp-content/uploads/2014/09/zalg1.png)

## Складність

- **Час виконання:** `O(|W| + |T|)`
- **Просторова складність:** `O(|W|)`

## Посилання

- [GeeksForGeeks](https://www.geeksforgeeks.org/z-algorithm-linear-time-pattern-searching-algorithm/)
- [YouTube](https://www.youtube.com/watch?v=CpZh4eF8QBw&t=0s&list=PLLXdhg_r2hKA7DPDsunoDZ-Z769jWn4R8&index=70)
- [Z Algorithm by Ivan Yurchenko](https://ivanyu.me/blog/2013/10/15/z-algorithm/)
